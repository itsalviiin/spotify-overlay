import"./modulepreload-polyfill-B5Qt9EMX.js";const u=window.location.search,m=new URLSearchParams(u),i=m.get("code")||"",y="https://itsalviiin.github.io/spotify-overlay",p=`${y}/configure`;i!=""?h(i):document.getElementById("connectBox").style.display="inline";async function h(d){const t=localStorage.getItem("client_id"),n=localStorage.getItem("client_secret");let l=`grant_type=authorization_code&code=${d}&redirect_uri=${encodeURI(p)}&client_id=${t}&client_secret=${n}`;const o=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{Authorization:`Basic ${btoa(t+":"+n)}`,"Content-Type":"application/x-www-form-urlencoded"},body:l});if(o.ok){const c=await o.json();c.refresh_token,c.access_token,document.getElementById("authorizationBox").style.display="inline"}}const a=document.getElementById("client_id_box"),r=document.getElementById("client_secret_box"),s=document.getElementById("authorizeButton");function e(){a.value.trim()===""||r.value.trim()===""?s.disabled=!0:s.disabled=!1}a.addEventListener("input",e);r.addEventListener("input",e);e();
